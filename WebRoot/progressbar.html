<!DOCTYPE html>
<html>
<head>
<title>demo1.html</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<link rel="stylesheet" href="themes/default/easyui.css" type="text/css" />
<link rel="stylesheet" href="themes/icon.css" type="text/css" />

<script type="text/javascript" src="js/jquery-1.8.2.js"></script>
<script type="text/javascript" src="js/jquery.easyui.min.js"></script>
<script type="text/javascript" src="js/easyui-lang-zh_CN.js"></script>

</head>

<body>

	<div id="p"  style="width:400px;"  ></div><br />
	<input id="startID" type="button"  value="开始"  style="width:100px;height:30px" />
	
	
	
	<script>
		$("#p").progressbar({
			width:1000,
			height:40,
			value:0
		});
	
		//获取1-9之间的随机数
		function getNum(){
			return Math.floor(Math.random()*9)+1;
		}
		
		/* for(var i=0;i<20;i++){
			var num=getNum();
			document.write(num+"<br />");
		} */
		var timeID=null;
		function update(){
			//获取随机值
			
			var num=getNum();
			//获取进度条当前值
			var value=$("#p").progressbar("getValue");
			if(value+num>100){
				//设置进度条当前值为100，且停止运行
				$("#p").progressbar("setValue",100);
				window.clearInterval(timeID);
				$("#startID").removeAttr("disabled");
			}else{
				$("#p").progressbar("setValue",(value+num))
			}
		}
		
		
		$("#startID").click(function(){
			timeID=window.setInterval("update()",500);
			//按钮失效
			$(this).attr("disabled","disabled");
		});
		
	
	</script>
	
</body>
</html>
